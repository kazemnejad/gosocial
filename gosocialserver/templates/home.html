<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>GoSocial!</title>

    <!-- Material Design Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

    <!-- Bootstrap core CSS -->
    <link href="{{ url_for("static", filename="css/bootstrap.min.css") }}" rel="stylesheet">

    <!-- Material Design Bootstrap -->
    <link href="{{ url_for("static", filename="css/mdb.min.css") }}" rel="stylesheet">

    <link href="{{ url_for("static", filename="css/main.css") }}" rel="stylesheet">

</head>


<body style=" background-color: #eeeeee">

<div class="space-30"></div>
<div class="space-30"></div>
<div class="space-30"></div>

<!-- Nav Bar-->
<nav class="navbar navbar-fixed-top z-depth-1" role="navigation" style="background-color: #3F729B !important;">
    <div class="container">
        <div class="navbar-header">
            <a class="navbar-brand navbar-left" style="margin: 0px; padding: 2px">
                <img src="{{ url_for("static", filename=user.profile_pic if user else config.DEFAULT_POST_IMAGE ) }}" class="profile-image img-circle"
                     style="width: auto; height: 100% ; margin: 2px; padding: 2px">
            </a>
        </div>
        <div class="navbar-header">
            <a class="navbar-brand" href="#">@{{ user.username if user else "guest" }}</a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"
             style="background-color: #3F729B !important;">
            <form class="navbar-form navbar-right" role="search">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="Search">
                </div>
            </form>
        </div>
    </div>
</nav>
<!--/ Nav Bar-->

{% for post in posts %}
<div class="col-md-5" style="float: none; margin: 0 auto;">
    <!--Image Card-->
    <div class="card">

        <nav class="navbar info-color">
            <div class="container-fluid" style="display: inline-block; float: left">
                <a class="navbar-brand navbar-left" style="margin:2px; padding: 0px">
                    <img src="{{ url_for("static", filename=post.author_profile_pic) }}"
                         class="profile-image img-circle"
                         style="width: auto; height: 100% ; margin: 0px; padding: 2px">
                </a>
            </div>
            <div class="navbar-header">
                <a class="navbar-brand waves-effect waves-light" href="#">@{{ post.author_username }}</a>
            </div>
        </nav>


        {% if post.image %}
            <div class="card-image">
                <div class="view overlay hm-white-slight z-depth-1">
                    <img src="{{ url_for("static", filename=post.image) }}" class="img-responsive" alt="">
                    <a href="postview.html">
                        <div class="mask waves-effect"></div>
                    </a>
                </div>
            </div>
        {% endif %}

        <div class="card-content" style="padding: 20px 20px; margin: 15px;">
            <h5>{{ post.title }}</h5>
            {% autoescape false %}
            <p style="font-size:100%;">{{ post.body }}</p>
            {% endautoescape %}

        </div>
        <!--Buttons-->
        <div class="card-btn">
            <a href="#" class="btn btn-sm btn-success waves-effect waves-light">
                <span class="glyphicon glyphicon-thumbs-up"></span>
                {{ post.like_count }}
            </a>
            <a href="#" class="btn btn-sm btn-danger waves-effect waves-light">
                <span class="glyphicon glyphicon-thumbs-down"></span>
                {{ post.dislike_count }}
            </a>
        </div>
        <!--/.Buttons-->
    </div>

</div>
{% endfor %}


<!-- add btn -->
<div class="fixed-action-btn" style="position: fixed; bottom: 5%; right: 5%;">
    <ul>
        <li><a class="btn-floating green" href="/posts/add"><i class="material-icons">publish</i></a></li>
        <li><a class="btn-floating yellow darken-1" data-toggle="modal" data-target="#myModal1"><i
                class="material-icons">format_quote</i></a></li>
        <li><a class="btn-floating blue" data-toggle="modal" data-target="#myModal2"><i class="material-icons">attach_file</i></a>
        </li>
    </ul>
    <a class="btn-floating btn-large red">
        <i class="large material-icons">mode_edit</i>
    </a>
</div>
<!-- add btn -->

<!-- Modal -->
<div class="modal fade" id="myModal1" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="row">
                <form class="col-md-12">
                    <button type="button" class="close" data-dismiss="modal" style="margin: 1%">&times;</button>
                    <div class="row">
                        <div class="input-field col-md-11">
                            <i class="material-icons prefix">bookmark</i>
                            <input id="icon_prefix" type="text" class="validate">
                            <label for="icon_prefix">Title</label>
                        </div>
                    </div>
                </form>
            </div>
            <div class="row">
                <form class="col-md-12" style="margin: 2%; width: 96%">
                    <div class="row">
                        <div class="input-field col-md-12">
                            <textarea id="textarea1" class="materialize-textarea"></textarea>
                            <label for="textarea1">Textarea</label>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" style="text-align: center; ;">Post!
                </button>
            </div>
        </div>

    </div>
</div>

<div class="modal fade" id="myModal2" role="dialog">
    <div class="modal-dialog">

        <div class="modal-content" style="text-align:center; width:100%">
            <div class="container" style="text-align:center; width:100%">
                <div class="panel panel-default" style="text-align:center; width:100%">

                    <div class="panel-body" style="text-align:center; width:100%">

                        <!-- Standar Form -->
                        <h4>Select files from your computer</h4>
                        <form action="" method="post" enctype="multipart/form-data" id="js-upload-form">
                            <div class="form-inline">
                                <div class="form-group">
                                    <input type="file" name="files[]" id="js-upload-files" multiple>
                                </div>
                                <button type="submit" class="btn btn-sm btn-primary" id="js-upload-submit">Upload
                                    files
                                </button>
                            </div>
                        </form>

                        <!-- Drop Zone -->
                        <h4>Or drag and drop files below</h4>
                        <div class="upload-drop-zone" id="drop-zone">
                            Just drag and drop files here
                        </div>

                        <!-- Progress Bar -->
                        <div class="progress">
                            <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0"
                                 aria-valuemax="100" style="width: 60%;">
                                <span class="sr-only">60% Complete</span>
                            </div>
                        </div>


                    </div>
                </div>
            </div> <!-- /container -->
        </div>

    </div>
</div>

<footer class="page-footer blue center-on-small-only" style="margin: 0px">
    <div class="container-fluid">
    </div>
    <div class="footer-copyright text-center rgba-black-light">
        <div class="container-fluid">
            Â© 2016 Copyright: <a href="http://www.gohappyco.com"> GoHappyCo.com </a>
        </div>
    </div>
</footer>

<!-- SCRIPTS -->

<!-- JQuery -->
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.3/jquery.min.js"></script>

<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Material Design Bootstrap -->
<script type="text/javascript" src="{{ url_for("static", filename="js/mdb.min.js") }}"></script>

<script type="text/javascript" src="{{ url_for("static", filename="js/ui.js") }}"></script>

</body>

</html>